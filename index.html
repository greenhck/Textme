<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flux - Aura Market</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Tailwind Configuration (using Inter font and a professional dark palette) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        :root {
            /* Professional Dark Mode Palette */
            --color-bg-primary: #0a0a0a; /* Deep Black */
            --color-bg-surface: #1f2937; /* Slightly Lighter Slate */
            --color-text-main: #f9fafb; /* White */
            --color-text-secondary: #9ca3af; /* Gray */
            --color-accent: #3b82f6; /* Blue (Tech/Finance Accent) */
            --color-positive: #10b981; /* Emerald Green */
            --color-negative: #ef4444; /* Red */
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-primary);
            color: var(--color-text-main);
            margin: 0;
            min-height: 100vh;
        }

        /* Enforce professional right alignment for numbers */
        .numeric {
            text-align: right;
            font-weight: 600;
            font-variant-numeric: tabular-nums; /* Align decimals */
        }
        
        /* Animation for main loading spinner (for search/table) */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Help Modal (Internal Component - Rounded Corners Reintroduced) -->
    <div id="help-modal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-gray-800 shadow-2xl max-w-lg w-full p-6 border border-gray-700 rounded-lg">
            <div class="flex justify-between items-center pb-3 border-b border-gray-700">
                <h3 class="text-xl font-bold text-white">‡§ë‡§∞‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞ (AS) ‡§ó‡§£‡§®‡§æ ‡§î‡§∞ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</h3>
                <button onclick="toggleHelpModal(false)" class="text-gray-400 hover:text-white transition">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18"/><path d="M6 6L18 18"/></svg>
                </button>
            </div>
            <p class="mt-4 text-gray-300">
                **‡§ë‡§∞‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞ (AS)** ‡§è‡§ï ‡§á‡§Ç‡§°‡•á‡§ï‡•ç‡§∏ ‡§π‡•à ‡§ú‡•ã ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ï‡•Ä ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§™‡•ç‡§∞‡§§‡§ø‡§∑‡•ç‡§†‡§æ ‡§î‡§∞ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§§‡§æ ‡§π‡•à‡•§
            </p>
            <p class="mt-2 text-sm text-gray-400">
                ‡§Ø‡§π ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§™‡§ø‡§õ‡§≤‡•á 24 ‡§ò‡§Ç‡§ü‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§ï‡§æ‡§∞‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§ï‡§∞ ‡§ó‡§£‡§®‡§æ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à:
                <ul class="list-disc list-inside ml-4 mt-2">
                    <li>‡§Æ‡•Ä‡§°‡§ø‡§Ø‡§æ ‡§ï‡§µ‡§∞‡•á‡§ú ‡§ï‡•Ä ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§î‡§∞ ‡§ó‡•Å‡§£‡§µ‡§§‡•ç‡§§‡§æ‡•§</li>
                    <li>‡§∏‡•ã‡§∂‡§≤ ‡§Æ‡•Ä‡§°‡§ø‡§Ø‡§æ ‡§™‡§∞ ‡§ú‡§® ‡§≠‡§æ‡§µ‡§®‡§æ (Sentiment) ‡§î‡§∞ ‡§ö‡§∞‡•ç‡§ö‡§æ‡•§</li>
                    <li>‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§ò‡•ã‡§∑‡§£‡§æ‡§ì‡§Ç ‡§î‡§∞ ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡•§</li>
                </ul>
                ‡§Ø‡§π ‡§∏‡•ç‡§ï‡•ã‡§∞ 0 ‡§∏‡•á 2000 ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§ú‡§π‡§æ‡§Ç **‡§â‡§ö‡•ç‡§ö ‡§∏‡•ç‡§ï‡•ã‡§∞** ‡§Æ‡§ú‡§¨‡•Ç‡§§ ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§§‡§æ ‡§π‡•à‡•§
            </p>
        </div>
    </div>

    <!-- Header: Sticky and Professional (Full Width - Sharp Edges) -->
    <header class="sticky top-0 z-10 bg-[--color-bg-surface] shadow-xl border-b border-gray-700">
        <!-- Inner Header Content (Keeping small horizontal padding for logo/text spacing) -->
        <div class="w-full px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <!-- Logo Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-[--color-accent]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2v-7.5"/><path d="M17.5 7.5L20 5 22.5 7.5"/><path d="M17.5 10.5L20 13 22.5 10.5"/><path d="M19 14.5L20 12l1-2.5"/></svg>
                <h1 class="text-2xl font-bold tracking-tight text-white">Flux - Aura Market</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-xs text-right hidden sm:block">
                    <span class="text-[--color-text-secondary]">Last Indexed:</span> 
                    <span id="update-time" class="font-medium text-white">--:-- IST</span>
                </div>
                <!-- Help Icon Button -->
                <button onclick="toggleHelpModal(true)" class="p-2 hover:bg-gray-700 transition rounded-full" title="Aura Score ‡§ó‡§£‡§®‡§æ ‡§ï‡•à‡§∏‡•á ‡§π‡•ã‡§§‡•Ä ‡§π‡•à">
                    <!-- Adjusted position of icon relative to button padding -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="w-full">
        
        <!-- 1. Top Movers Summary Cards (Vertical on mobile, horizontal on sm+) -->
        <!-- Adjusted classes: grid-cols-1 sm:grid-cols-2, gap-4 (reduced), mb-4 pt-4 (reduced external vertical space), px-3 (reduced external horizontal space on mobile) -->
        <div id="movers-summary" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4 px-3 sm:px-6 lg:px-8 pt-4">
            <!-- Highest Growth Card -->
            <!-- Reduced internal padding from p-6 to p-4 -->
            <div id="top-mover-card" class="bg-gray-800 p-4 shadow-lg border border-gray-700 rounded-xl">
                <p class="text-sm font-medium text-gray-400">üìà Highest Daily Growth</p>
                <h2 class="text-2xl font-bold mt-1 text-white truncate" id="top-mover-name">Loading...</h2>
                <div id="top-mover-data" class="flex items-center mt-2">
                    <span id="top-mover-movement" class="text-xl font-bold text-gray-400">--</span>
                    <span id="top-mover-percent" class="ml-3 text-sm font-medium text-gray-400"> (--)</span>
                </div>
            </div>
            <!-- Lowest Growth Card -->
            <!-- Reduced internal padding from p-6 to p-4 -->
            <div id="bottom-mover-card" class="bg-gray-800 p-4 shadow-lg border border-gray-700 rounded-xl">
                <p class="text-sm font-medium text-gray-400">üìâ Lowest Daily Growth</p>
                <h2 class="text-2xl font-bold mt-1 text-white truncate" id="bottom-mover-name">Loading...</h2>
                <div id="bottom-mover-data" class="flex items-center mt-2">
                    <span id="bottom-mover-movement" class="text-xl font-bold text-gray-400">--</span>
                    <span id="bottom-mover-percent" class="ml-3 text-sm font-medium text-gray-400"> (--)</span>
                </div>
            </div>
        </div>

        <!-- 2. Controls Bar -->
        <div class="bg-[--color-bg-surface] p-4 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4 border-b border-gray-700 px-4 sm:px-6 lg:px-8">
            <!-- Search Input -->
            <div class="relative w-full sm:w-80">
                <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                    <!-- Search Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="M21 21L16.65 16.65"/></svg>
                </div>
                <input 
                    type="text" 
                    id="search-input" 
                    placeholder="Search Name..." 
                    oninput="handleSearchAndSort()"
                    class="w-full bg-gray-700 text-white border pl-10 pr-10 py-2.5 border-gray-600 focus:ring-blue-500 focus:border-blue-500 rounded-lg"
                >
                <div id="loading-spinner" class="absolute inset-y-0 right-0 hidden flex items-center pr-3">
                    <!-- Rotating Loading Animation Icon (used for search/sort) -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-400 animate-spin-slow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 11-6.219-8.56"/></svg>
                </div>
            </div>

            <!-- Sort Dropdown -->
            <div class="flex items-center space-x-2 w-full sm:w-auto">
                <label for="sort-select" class="text-gray-400 text-sm whitespace-nowrap hidden sm:block">Sort By:</label>
                <select id="sort-select" onchange="handleSearchAndSort()" class="bg-gray-700 text-white py-2.5 px-3 border border-gray-600 focus:ring-blue-500 focus:border-blue-500 rounded-lg">
                    <option value="score_desc">Aura Score (High to Low)</option>
                    <option value="score_asc">Aura Score (Low to High)</option>
                    <option value="change_desc">Daily Growth (High to Low)</option>
                    <option value="change_asc">Daily Growth (Low to High)</option>
                    <option value="name_asc">Name (A-Z)</option>
                </select>
            </div>
        </div>

        <!-- 3. Main Data Table -->
        <div class="bg-[--color-bg-surface] shadow-2xl overflow-x-auto"> 
            <table class="min-w-full divide-y divide-gray-700">
                
                <!-- Table Header -->
                <thead class="bg-gray-800 sticky top-[68px]"> 
                    <tr>
                        <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-400 sm:pl-6">
                            Name
                        </th>
                        <th scope="col" class="px-3 py-3.5 text-right text-sm font-semibold text-gray-400">
                            Aura Score (AS)
                        </th>
                        <th scope="col" class="hidden sm:table-cell px-3 py-3.5 text-right text-sm font-semibold text-gray-400">
                            Previous Day's Score
                        </th>
                        <th scope="col" class="px-3 py-3.5 text-right text-sm font-semibold text-gray-400">
                            Net Movement
                        </th>
                        <th scope="col" class="px-3 py-3.5 text-right text-sm font-semibold text-gray-400">
                            Daily % Change
                        </th>
                    </tr>
                </thead>
                
                <!-- Table Body -->
                <tbody id="aura-data" class="divide-y divide-gray-800">
                    <!-- Initial loading state managed by JS -->
                </tbody>
            </table>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', fetchData);

        let rawAuraData = []; // Stores the fetched data
        const tableBody = document.getElementById('aura-data');
        const searchSpinner = document.getElementById('loading-spinner');
        const ERROR_TIMEOUT_MS = 9000; // 9 seconds

        // --- HTML Templates ---
        
        /** HTML string for the spinning loading circle for the main table */
        const MAIN_TABLE_SPINNER_HTML = `
            <tr>
                <td colspan="5" class="px-6 py-8 text-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400 animate-spin-slow mx-auto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 11-6.219-8.56"/></svg>
                </td>
            </tr>
        `;
        
        const MAIN_TABLE_ERROR_HTML = (message) => `
            <tr>
                <td colspan="5" class="px-6 py-4 text-center text-lg font-bold text-red-500">
                    üö® ERROR: ${message} üö®
                </td>
            </tr>
        `;

        // --- Helper Functions ---

        function toggleHelpModal(show) {
            document.getElementById('help-modal').style.display = show ? 'flex' : 'none';
        }

        function formatMovement(movement) {
            const isPositive = movement >= 0;
            const sign = isPositive ? '+' : '';
            const colorClass = isPositive ? 'text-green-400' : 'text-red-400';
            return {
                text: `${sign}${movement.toFixed(2)}`,
                class: colorClass,
                isPositive
            };
        }
        
        /** Toggles the Mover Cards between Loading/Success/Error states. */
        function updateMoverCardsState(state = 'loading', data = null) {
            const updateTime = document.getElementById('update-time');
            const movers = ['top', 'bottom'];

            if (state === 'error') {
                updateTime.textContent = '-- Error --';
                movers.forEach(m => {
                    const nameEl = document.getElementById(`${m}-mover-name`);
                    const dataEl = document.getElementById(`${m}-mover-data`);
                    
                    nameEl.textContent = 'Error Loading Data';
                    dataEl.innerHTML = `<span class="text-sm font-medium text-red-500">Could not fetch data.</span>`;
                });
                return;
            }

            if (state === 'loading') {
                updateTime.textContent = '...Loading...';
                movers.forEach(m => {
                    document.getElementById(`${m}-mover-name`).textContent = 'Loading...';
                    const dataEl = document.getElementById(`${m}-mover-data`);
                    dataEl.innerHTML = `<span class="text-xl font-bold text-gray-400">--</span><span class="ml-3 text-sm font-medium text-gray-400"> (--)</span>`;
                });
                return;
            }
            
            // State: success (data should not be null here)
            if (data && data.length > 0) {
                // Find Top/Bottom Movers based on Net Movement
                const topMover = data.reduce((max, celeb) => celeb.netMovement > max.netMovement ? celeb : max, data[0]);
                const bottomMover = data.reduce((min, celeb) => celeb.netMovement < min.netMovement ? celeb : min, data[0]);

                // --- Top Mover Update ---
                const topMoverMovement = formatMovement(topMover.netMovement);
                const topMoverPercent = formatMovement(topMover.changePercentage);

                document.getElementById('top-mover-name').textContent = topMover.name;
                document.getElementById('top-mover-data').innerHTML = `
                    <span id="top-mover-movement" class="${topMoverMovement.class} text-xl font-bold">${topMoverMovement.text}</span>
                    <span id="top-mover-percent" class="ml-3 text-sm font-medium ${topMoverPercent.class}"> (${topMoverPercent.text}%)</span>
                `;


                // --- Bottom Mover Update ---
                const bottomMoverMovement = formatMovement(bottomMover.netMovement);
                const bottomMoverPercent = formatMovement(bottomMover.changePercentage);
                // For lowest growth, we often highlight it in red unless the "worst" performer is still positive (yellow)
                const bottomMovementClass = bottomMoverMovement.isPositive ? 'text-yellow-400' : 'text-red-400'; 

                document.getElementById('bottom-mover-name').textContent = bottomMover.name;
                document.getElementById('bottom-mover-data').innerHTML = `
                    <span id="bottom-mover-movement" class="${bottomMovementClass} text-xl font-bold">${bottomMoverMovement.text}</span>
                    <span id="bottom-mover-percent" class="ml-3 text-sm font-medium ${bottomMovementClass}"> (${bottomMoverPercent.text}%)</span>
                `;
            } else {
                 updateMoverCardsState('error');
            }
        }

        // --- Core Data Functions ---

        /**
         * Fetches data from data.json with a 9-second fail-safe.
         */
        async function fetchData() {
            updateMoverCardsState('loading');
            tableBody.innerHTML = MAIN_TABLE_SPINNER_HTML; 

            const errorTimeout = setTimeout(() => {
                // If this timeout fires, the fetch is still running, meaning we display the error.
                console.error('Data load exceeded 9 seconds timeout. Displaying error.');
                tableBody.innerHTML = MAIN_TABLE_ERROR_HTML('Timeout: Could not load data.json within 9 seconds.');
                updateMoverCardsState('error');
            }, ERROR_TIMEOUT_MS);

            try {
                // IMPORTANT: The app needs a data.json file in the same directory to function.
                const response = await fetch(`data.json?v=${new Date().getTime()}`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                
                clearTimeout(errorTimeout); // Clear timeout since data was successfully loaded

                // 1. Process Raw Data
                rawAuraData = data.celebrities.map(celeb => {
                    const netMovement = celeb.aura_score - celeb.previous_aura_score;
                    const changePercentage = celeb.previous_aura_score === 0 ? 0 : (netMovement / celeb.previous_aura_score) * 100;
                    return {
                        ...celeb,
                        netMovement,
                        changePercentage
                    };
                });
                
                // 2. Update Timestamp
                document.getElementById('update-time').textContent = data.last_updated;

                // 3. Update Movers Cards
                updateMoverCardsState('success', rawAuraData);

                // 4. Render Table (Initial Sort by Score Desc)
                handleSearchAndSort();

            } catch (error) {
                clearTimeout(errorTimeout); // Clear timeout if fetch failed quickly
                console.error('CRITICAL: Failed to load Flux - Aura Market data. Ensure data.json file exists and is accessible.', error);
                
                // Show spinner for a brief moment before showing final error (user preference)
                setTimeout(() => {
                    tableBody.innerHTML = MAIN_TABLE_ERROR_HTML(`Failed to load data. Details: ${error.message}. (Is 'data.json' present?)`);
                    updateMoverCardsState('error');
                }, 100); 
            } finally {
                // searchSpinner is only used by handleSearchAndSort now.
            }
        }

        /**
         * Filters and sorts the data based on user inputs and renders the table.
         * The search function logic is correct; if it's not working, ensure 'data.json' has loaded successfully.
         */
        function handleSearchAndSort() {
            // Show search spinner briefly
            searchSpinner.classList.remove('hidden');

            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const sortCriteria = document.getElementById('sort-select').value;

            // Use the globally stored rawAuraData for filtering
            let filteredData = rawAuraData.filter(celeb => 
                celeb.name.toLowerCase().includes(searchTerm)
            );

            // 1. Apply Sorting
            filteredData.sort((a, b) => {
                switch (sortCriteria) {
                    case 'score_asc':
                        return a.aura_score - b.aura_score;
                    case 'change_desc':
                        return b.netMovement - a.netMovement;
                    case 'change_asc':
                        return a.netMovement - b.netMovement;
                    case 'name_asc':
                        return a.name.localeCompare(b.name);
                    case 'score_desc': // Default
                    default:
                        return b.aura_score - a.aura_score;
                }
            });

            // 2. Render the filtered and sorted data immediately (removed setTimeout for responsiveness)
            renderTable(filteredData);
            searchSpinner.classList.add('hidden');
        }

        /**
         * Renders the table body with the given data array.
         */
        function renderTable(dataToRender) {
            if (dataToRender.length === 0 && document.getElementById('search-input').value.length > 0) {
                // Show no results if search term is active
                tableBody.innerHTML = `<tr><td colspan="5" class="px-6 py-4 text-center text-sm text-gray-500">‡§ï‡•ã‡§à ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§</td></tr>`;
                return;
            } else if (dataToRender.length === 0) {
                 // Show general error if data array is empty but no search term (should be covered by fetchData error)
                 tableBody.innerHTML = MAIN_TABLE_ERROR_HTML('No data found in the file.');
                 return;
            }

            tableBody.innerHTML = dataToRender.map(celeb => {
                const { text: movementText, class: movementClass } = formatMovement(celeb.netMovement);
                const { text: percentText } = formatMovement(celeb.changePercentage);

                return `
                    <tr class="hover:bg-gray-800 transition duration-150 ease-in-out">
                        <!-- Column 1: Name -->
                        <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-6">
                            ${celeb.name}
                        </td>
                        
                        <!-- Column 2: Aura Score (Current Score) -->
                        <td class="numeric px-3 py-4 text-sm text-white">
                            ${celeb.aura_score.toFixed(2)}
                        </td>
                        
                        <!-- Column 3: Previous Day's AS -->
                        <td class="hidden sm:table-cell numeric px-3 py-4 text-sm text-[--color-text-secondary]">
                            ${celeb.previous_aura_score.toFixed(2)}
                        </td>
                        
                        <!-- Column 4: Net Movement (Today's Change) -->
                        <td class="numeric px-3 py-4 text-sm ${movementClass}">
                            ${movementText}
                        </td>
                        
                        <!-- Column 5: Daily % Chg -->
                        <td class="numeric px-3 py-4 text-sm ${movementClass}">
                            ${percentText}%
                        </td>
                    </tr>
                `;
            }).join('');
        }

    </script>
</body>
</html>
